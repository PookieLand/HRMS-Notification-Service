# Kubernetes Secrets for Notification Service Email Providers
#
# IMPORTANT: This file contains placeholder values.
# In production, use one of these approaches:
# 1. Use kubectl create secret with actual values
# 2. Use Sealed Secrets for GitOps
# 3. Use External Secrets Operator with AWS Secrets Manager/Vault
# 4. Use SOPS for encrypted secrets in Git
#
# To create secrets manually:
# kubectl create secret generic notification-service-secrets \
#   --from-literal=aws-access-key-id=<your-key> \
#   --from-literal=aws-secret-access-key=<your-secret> \
#   --from-literal=ses-sender-email=<verified-email> \
#   --from-literal=smtp-user=<gmail-address> \
#   --from-literal=smtp-app-password=<app-password>

apiVersion: v1
kind: Secret
metadata:
  name: notification-service-secrets
  namespace: hrms
  labels:
    app: notification-service
    component: email
type: Opaque
stringData:
  # Amazon SES Credentials (Primary Provider)
  # For Kubernetes with IRSA (IAM Roles for Service Accounts),
  # you can leave these empty and use the ServiceAccount annotation instead
  aws-access-key-id: ""
  aws-secret-access-key: ""
  ses-sender-email: "noreply@yourdomain.com"
  ses-configuration-set: ""

  # Gmail SMTP Credentials (Fallback Provider)
  # Generate an App Password at: https://myaccount.google.com/apppasswords
  smtp-user: ""
  smtp-app-password: ""

  # Database Credentials
  db-user: "hrms_user"
  db-password: ""

  # Asgardeo OAuth2 Settings
  asgardeo-org: ""
  asgardeo-client-id: ""

---
# For AWS IRSA (IAM Roles for Service Accounts) - Recommended for EKS
# Create a ServiceAccount with IAM role annotation
apiVersion: v1
kind: ServiceAccount
metadata:
  name: notification-service-sa
  namespace: hrms
  labels:
    app: notification-service
  annotations:
    # Replace with your IAM role ARN that has SES permissions
    # eks.amazonaws.com/role-arn: arn:aws:iam::ACCOUNT_ID:role/notification-service-ses-role
    eks.amazonaws.com/role-arn: ""
